# 1. 前言

---

爱音乐翻牌项目中，播放视频采用的原生video元素去播放，后面需求变更，需要增加全屏播放控件，加上去原生control之后出现问题，Android上播放一切正常，ios点击播放也正常，但点击全屏放大的控件就出现有声音无画面的黑屏现象，但是为什么Android上全屏播放是有画面声音的，到了ios上就有声音没画面了呢？

# 2. 缘由

---

当时第一时间想着很奇怪，就去测试，发现确实是很奇怪的现象，通过对视频url经过反复测试，发现无论是直接打开视频url还是将视频

url放在以往的项目中都是可以正常全屏播放的，说明视频本身格式是正常的，那为什么不行呢，于是又对url进行打印，发现地址是一致的

，然后就怀疑是不是代码的问题，就把代码按照之前项目里播放视频的代码逻辑顺序进行对照，对项目中的一些代码进行了注释，然后就

发现视频可以全屏播放了，于是问题定位到了代码上，这下就好办了，最后通过对注释的代码一步步排查，把问题定位出来了：原因是当

时有对DOM做一个全局的click事件的监听，而对应的回调函数中对视频元素进行了display="none"的处理，所以到这时就水落石出了，就

是这段代码导致ios下播放视频出现无画面有声音的黑屏情况，揣测是ios中用户点击全屏放大的控件，触发了全局的click事件，所以导致

出现黑屏

# 3. 结论

---

- 当用户**点击video元素自带的全屏放大的控件**时
  - **ios**浏览器内核环境下， **会触发click事件**
  - **Android**浏览器内核环境下，**不会触发click事件**
  - 这只是对两种设备不同的情况，作出的一种猜测（暂时就保持这样的观点吧，咱还未去证实。。。）



